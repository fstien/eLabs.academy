window.addEventListener("load",xb,!1);
function xb(){function sb(){window.setTimeout(sb,5);yb()}function wa(){xa=ya=za=Aa=h}function zb(a,b,c,d,e,g,h,p){var q,k,l,r,m={x:null,y:null,a:!1,b:!1};q=(p-g)*(c-a)-(h-e)*(d-b);if(0==q)return m;k=b-g;l=a-e;r=(c-a)*k-(d-b)*l;k=((h-e)*k-(p-g)*l)/q;l=r/q;m.x=a+k*(c-a);m.y=b+k*(d-b);x=e+l*(h-e);y=e+l*(p-g);0<k&&1>k&&(m.a=!0);0<l&&1>l&&(m.b=!0);return m}function yb(){function K(a,b,K){b=b.split(" ");for(var c="",d=0;d<b.length;d++){var f=c+b[d]+" ";300<a.measureText(f).width&&0<d?(a.fillText(c,800,
K),c=b[d]+" ",K+=22):c=f}a.fillText(c,800,K)}var b=zb(N,tb,E,Q,O,ub,F,R);G=b.x;H=b.y;O>S&&(F>=v?(R+=w,O-=w,R>Sa&&(R=Sa,F-=w)):(O-=w,F-=w));O<S&&(O+=w,F>=v?(F=v,R-=w):F+=w);N>T&&(E>=v?(Q-=w,N-=w,Q<=U&&(Q=U,E-=w)):(N-=w,E-=w));N<T&&(N+=w,E>=v?(E=v,Q+=w):E+=w);a.fillStyle="white";a.fillRect(0,0,L.width,L.height);Ta&&($+=.01,1<$&&($=1,Ta=!1));a.globalAlpha=$;na=na<aa?na+.1:na-.1;oa=oa<ba?oa+.1:oa-.1;a.strokeStyle=Ua;a.setLineDash([0]);a.lineWidth=na;a.lineCap="round";a.beginPath();a.moveTo(O,ub);a.lineTo(F,
R);a.stroke();a.closePath();a.strokeStyle=Ba;a.lineWidth=oa;a.lineCap="round";a.beginPath();a.moveTo(N,tb);a.lineTo(E,Q);a.stroke();a.closePath();a.globalAlpha=1;a.beginPath();a.fillStyle="white";a.fillRect(0,0,M,I);a.stroke();a.strokeStyle=h;a.lineWidth=4;a.lineCap="square";a.beginPath();a.moveTo(Ca,I+4);a.lineTo(b.x,I+4);a.stroke();a.closePath();a.strokeStyle=h;a.lineWidth=4;a.lineCap="square";a.beginPath();a.moveTo(M-4,300);a.lineTo(M-4,b.y);a.stroke();a.closePath();a.strokeStyle=h;a.lineWidth=
5;a.lineCap="round";a.beginPath();a.moveTo(M,U);a.lineTo(M,I);a.lineTo(v,I);a.stroke();a.closePath();a.font="38px Helvetica";a.fillStyle="black";a.fillText("G",(z+C)/2-15,(e+g)/2+14);a.fillText("M",(m+m)/2-16,(A+A)/2-12);a.globalAlpha=.8;a.beginPath();a.strokeStyle=h;a.lineWidth=2;a.moveTo(z+c-1,e+c/3);a.lineTo(C+c-1,g-c/3);a.moveTo(z-c+1,e+c/3);a.lineTo(C-c+1,g-c/3);a.stroke();a.globalAlpha=.8;a.beginPath();a.strokeStyle=h;a.lineWidth=2;a.moveTo(m+c-1,D+c/3);a.lineTo(J+c-1,A-c/3);a.moveTo(m-c+1,
D+c/3);a.lineTo(J-c+1,A-c/3);a.stroke();.05<ca&&(ca-=.01);a.beginPath();a.globalAlpha=ca;a.fillStyle="red";a.moveTo(z+c,e+c/3);a.quadraticCurveTo(z,e,z-c,e+c/3);a.lineTo(C-c,g-c/3);a.quadraticCurveTo(C,g,C+c,g-c/3);a.lineTo(z+c,e+c/3);a.fill();a.lineWidth=1;a.strokeStyle="red";a.stroke();.05<da&&(da-=.01);a.beginPath();a.globalAlpha=da;a.fillStyle="blue";a.moveTo(m+c,D+c/3);a.quadraticCurveTo(m,D,m-c,D+c/3);a.lineTo(J-c,A-c/3);a.quadraticCurveTo(J,A,J+c,A-c/3);a.lineTo(m+c,D+c/3);a.fill();a.lineWidth=
1;a.strokeStyle="blue";a.stroke();a.globalAlpha=1;a.beginPath();a.lineWidth=.01;a.lineCap="miter";a.fillStyle=Aa;a.moveTo(z+c,e+c/3);a.quadraticCurveTo(z,e,z-c,e+c/3);a.lineTo(z,e-1.2*c);a.lineTo(z+c,e+c/3);a.fill();a.closePath();a.stroke();a.beginPath();a.lineWidth=.01;a.lineCap="miter";a.fillStyle=za;a.moveTo(C-c,g-c/3);a.quadraticCurveTo(C,g,C+c,g-c/3);a.lineTo(C,g+1.2*c);a.lineTo(C-c,g-c/3);a.fill();a.closePath();a.stroke();a.beginPath();a.lineWidth=.01;a.lineCap="miter";a.fillStyle=ya;a.moveTo(m+
c,D+c/3);a.quadraticCurveTo(m,D,m-c,D+c/3);a.lineTo(m,D-1.2*c);a.lineTo(m+c,D+c/3);a.fill();a.closePath();a.stroke();a.beginPath();a.lineWidth=.01;a.lineCap="miter";a.fillStyle=xa;a.moveTo(J-c,A-c/3);a.quadraticCurveTo(J,A,J+c,A-c/3);a.lineTo(J,A+1.2*c);a.lineTo(J-c,A-c/3);a.fill();a.closePath();a.stroke();a.globalAlpha=1;ea<X&&(ea+=1);ea>X&&--ea;fa<Y&&(fa+=1);fa>Y&&--fa;a.globalAlpha=Va;a.beginPath();a.rect((z+C)/2+35,(e+g)/2,20,-fa);a.fillStyle="red";a.fill();a.lineWidth=2;a.strokeStyle="red";a.stroke();
a.beginPath();a.lineWidth=2;a.lineCap="round";a.strokeStyle="black";a.moveTo((z+C)/2+35,(e+g)/2);a.lineTo((z+C)/2+55,(e+g)/2);a.stroke();a.closePath();a.globalAlpha=Wa;a.beginPath();a.rect((m+J)/2+35,(D+A)/2,20,-ea);a.fillStyle="blue";a.fill();a.lineWidth=2;a.strokeStyle="blue";a.stroke();a.beginPath();a.lineWidth=2;a.lineCap="round";a.strokeStyle="black";a.moveTo((m+J)/2+35,(D+A)/2);a.lineTo((m+J)/2+55,(D+A)/2);a.stroke();a.closePath();a.globalAlpha=1;V>Da&&(V-=.02);V<Da&&(V+=.02);W>Ea&&(W-=.02);
W<Ea&&(W+=.02);a.globalAlpha=V;a.beginPath();a.rect(P,r,1100-P,(e+g)/2-r);a.fillStyle=h;a.fill();a.globalAlpha=W;a.beginPath();a.rect(P,(e+g)/2,1100-P,(e+g)/2-r);a.fillStyle=h;a.fill();a.globalAlpha=1;a.font="18px Helvetica";a.fillStyle="black";a.fillText("IS Shock",P+8,r+24);a.fillText("LM Shock",P+5,r+59);a.font="35px Helvetica";a.fillStyle=h;a.fillText("r",M-47,U+28);a.fillText("Y",v-18,I+47);a.fillText("0",M-35,I+40);Xa&&(Ya=1,Xa=!1);Za&&(Ya=0,Za=!1);$a&&(ab=1,$a=!1);bb&&(ab=0,bb=!1);a.font="25px Helvetica";
a.globalAlpha=ab;a.fillText("interest rate",M-47,U-20);a.globalAlpha=Ya;a.fillText("income",v-18-55,I+80);a.globalAlpha=1;a.strokeStyle=h;a.lineWidth=2;a.setLineDash([15]);a.beginPath();a.moveTo(b.x,I);a.lineTo(b.x,b.y);a.moveTo(M,b.y);a.lineTo(b.x,b.y);a.stroke();a.closePath();(function(b,K,c){a.fillStyle=c||"black";a.beginPath();a.arc(b,K,8,0,2*Math.PI,!0);a.fill()})(b.x,b.y,"#000001");var f=F+15;F>=v&&(f=v+15);var n=R+5;F>=v&&(n=Sa+5);a.font=pa;a.fillStyle=Ua;a.fillText("IS",f,n);f=E+15;E>=v&&
(f=v+15);n=Q+5;E>=v&&(n=U+5);a.font=qa;a.fillStyle=Ba;a.fillText("LM",f,n);a.font="25px Helvetica";a.fillStyle=h;a.fillText("y",Ca-5,I+30);f=b.x<Ca+5&&b.x>Ca-5?"":"y'";a.font="25px Helvetica";a.fillStyle=h;a.fillText(f,b.x-5,I+30);a.font="25px Helvetica";a.fillStyle=h;a.fillText("r",M-30,cb+7);f=b.y<cb+5&&b.y>cb-5?"":"r'";a.font="25px Helvetica";a.fillStyle=h;a.fillText(f,M-30,b.y+7);db&&(eb=1,db=!1);fb&&(eb=0,fb=!1);b=600<b.x?530:b.x-70;a.font="20px Helvetica";a.globalAlpha=eb;a.fillText("equilibrium income",
b,I+55);a.globalAlpha=1;gb&&(hb=1,gb=!1);ib&&(hb=0,ib=!1);jb=200<G?65:G+50;a.font="20px Helvetica";a.globalAlpha=hb;a.fillText("equilibrium",jb,H-8);a.fillText("interest rate",jb,H+20);a.globalAlpha=1;a.setLineDash([1]);kb&&(ra+=10,180<=ra&&(kb=!1,ra=Math.PI));a.font="25px FontAwesome";a.fillStyle="black";a.save();a.translate(1086,14);a.rotate(ra*Math.PI/180);a.translate(-1086,-14);a.fillText("\uf021",Fa-13,Ga+11);a.restore();vb="AS"===d?Ba:"black";a.font="27px FontAwesome";a.fillStyle=vb;a.fillText("\uf05a",
Fa-50,Ga+12);var s=n=f=b="",t="",u="",p,q,k,l;switch(d){case "noMessage":u=t=s=n=f="";break;case "IS":b="The IS Curve";f="The IS curve shows the relationship between the interest rate and income by displaying the combinations of r and Y that reflect an equilibrium in the goods market.";n="It combines the interaction between the interest rate and investment expressed by the investment function, and the interaction between investment and income demonstrated by the Keynesian cross.";s="It is drawn for a given fiscal policy.";
u=t="";p=5;q=6;k=3;l=2;break;case "LM":b="The LM Curve";f="The LM curve shows the relationship between income and the interest rate by displaying the combinations of r and Y that reflect an equilibrium in the money market.";n="It therefore illustrates how the equilibrium interest rate depends on the level of income. The higher the level of income, the higher the demand for real money balances and the higher the equilibrium interest rate. The IS curve slopes upwards for this reason.";s="It is drawn for a given money supply, or monetary policy.";
u=t="";p=5;q=7;k=3;l=2;break;case "GI":b="Fiscal Expansion";f="As government spendings G increases, there is a rise in planned expenditure in the Keynesian cross.";n="This stimulates the production of goods so causes income Y to rise.";s="In the money market, the extra income leads to more money demanded at every interest rate r.";t="Since the money supply M has not changed, higher money demand leads to a higher interest rate. A higher interest rate causes firms to cut back on investment, which partially offsets the expansionary effect of G on Y.";
u="Fiscal expansions thus has a crowding out effect on investment.";p=3;q=2;k=3;l=6;break;case "GD":b="Fiscal Contraction";f="A decrease in government spending reduces planned expenditure and therefore equilibrium income in the Keynesian cross. This causes a fall in income Y.";n="In the money market, a lower income decreases money demand at every interest rate.";s="Since the money supply M is unchanged, lower money demand leads to a lower interest rate r.";t="A lower interest rate causes firms to increase investment spending.";
u="This partially reduces the contractionary effects of the decrease in government spending G on income Y.";p=5;k=q=3;l=2;break;case "MI":b="Monetary Expansion";f="An increase in the money supply M increases real money balances M/P as the price level is fixed in the short run.";n="The theory of liquidity preferences shows us that an increase in real money balances lowers the interest rate for every level of income.";s="This is because people hold more money than they are willing to hold at the prevailing interest rate.";
t="A lower interest rate increases investment and therefore income.";u="This is show by the rightward shift of the LM curve and the new equilibrium featuring a lower interest rate and higher income.";p=3;q=4;k=3;l=2;break;case "MD":b="Monetary Contraction";f="A decrease in the money supply M decreases real money balances M/P as the price level is fixed in the short run.";n="The theory of liquidity preferences shows us that a decrease in real money balances increases the interest rate for every level of income.";
s="This is because people hold less money than they are willing to hold at the prevailing interest rate.";t="A higher interest rate decreases investment and therefore income.";u="This is shown by the leftward shift of the LM curve and the new equilibrium featuring a higher interest rate and lower income.";p=3;q=4;k=3;l=2;break;case "IN":b="The Curve Intersection";f="The intersection of the IS and LM curves represents simultaneous equilibrium in the goods market and the money market. It is the equilibrium of the economy.";
n="This point gives us the equilibrium interest rate r and the equilibrium level of income.";s="In other words, at this intersection, actual expenditure equals planned expenditure, and the demand for real money balances equals the supply.";u=t="";p=4;k=q=3;l=2;break;case "ER":b="Equilibrium Interest Rate";f="The interest rate is both the return of savings and the cost of borrowing to finance investment projects.";n="The equilibrium interest rate is the level of interest which satisfies equilibrium both in the goods market and in the money market.";
s="Any higher interest rate would translate into a higher equilibrium level of income in the money market than in the goods market. ";t="Any lower interest rate would translate into a higher equilibrium level of income in the goods market than in the money market.";u="";p=3;l=k=q=4;break;case "EY":b="Equilibrium Income";f="Equilibrium income is the level of income which satisfies equilibrium both in the goods market and in the money market.";n="Any higher level of income would translate into a higher equilibrium interest rate in the money market than in the goods market.";
s="Any lower level of income would translate into a higher equilibrium interest rate in the goods market than in the money market.";u=t="";p=3;k=q=4;l=2;break;case "IR":b="The Interest Rate";f="The interest rate is both the return of savings and the cost of borrowing to finance investment projects.";u=t=s=n="";l=k=q=p=2;break;case "Y":b="Income";f="The total income of everyone in the economy and the total expenditure on the economy's output of goods and services.";u=t=s=n="";p=5;k=q=1;l=5;break;case "ISS":b=
"IS Shock";f="An IS shock is an exogenous decrease in the demand for goods and services.";n="This can be caused by a stock market crash. According to Keynes, this arise from investor \u201canimal spirits\u201d; a self-fulfilling wave of pessimism which drive asset prices.";s="As firms become pessimistic about the future, they invest less in capital equipment whilst consumers spend less if they have lost money in the market. This reduces investment and consumption for every level of interest and therefore shifts the IS curve to the left. The is reduction in income in part validates the initial pessimism, which is therefore self-fulfilling.";
t="The policymaker can use fiscal policy to offset the shock if he is sufficiently skilful and quick.";u="";p=2;q=5;k=10;l=3;break;case "LMS":b="LM Shock";f="An LM shock arises from an exogenous decrease in the demand for money.";n="For example, suppose a wave of credit card fraud increases the amount of money people choose to hold.";s="According to the theory of liquidity preferences, an increase in money demand (for a given money supply and level of income) causes the interest rate to rise.";t=
"This shifts the LM curve to the left which decreases equilibrium income.";u="The policymaker can use monetary policy to offset the shock if he is sufficiently skilful and quick.";p=2;q=3;k=5;l=2;break;case "AS":b="Model Assumptions",f="The price level is fixed (as this is a short-run model).",n="Short-term and long-term interest rates are equal.",s="A closed economy: we disregard the potential effects of trade.",u=t="",l=k=q=p=2}B&&(ga=ha=ia=ja=ka=la=0,B=!1,lb=!0);lb&&(la+=ma,.7<la&&(la=1,ka+=ma,
.7<ka&&(ka=1,ja+=ma,.8<ja&&(ja=1,ia+=ma,.8<ia&&(ia=1,ha+=ma,.9<ha&&(ha=1,ga+=ma,.9<ga&&(ga=1,lb=!1)))))));a.fillStyle="black";a.font="bold 17pt Helvetica";a.globalAlpha=la;a.fillText(b,800,205);a.font="12pt Helvetica";a.globalAlpha=ka;K(a,f,245);a.globalAlpha=ja;K(a,n,22*p+255);a.globalAlpha=ia;K(a,s,22*(p+q)+265);a.globalAlpha=ha;K(a,t,22*(p+q+k)+275);a.globalAlpha=ga;K(a,u,22*(p+q+k+l)+285);a.globalAlpha=1}var L=document.getElementById("canvas"),a=L.getContext("2d");sb();var w=5,M=50,U=50,I=600,
v=730,Sa=I-50,mb=U+25,Ha=U+100,wb=v-90,nb=I-80,N=150,tb=550,E=650,Q=50,O=150,F=650,ub=50,R=550,G=400,H=300,S=150,T=150,Ca=400,cb=300,h="#636363",Ya=0,ab=0,eb=0,hb=0,Xa=!1,Za=!1,$a=!1,bb=!1,db=!1,fb=!1,gb=!1,ib=!1,jb,na=11,aa=11,oa=11,ba=11,z=825,e=65,C=825,g=115,m=925,D=65,J=925,A=115,c=22,Aa=h,za=h,ya=h,xa=h,sa=e-42,ob=sa+50,ta=z-25,pb=ta+50,Ia=g-8,Ja=Ia+50,Ka=C-25,La=Ka+50,ua=D-42,qb=ua+50,va=m-25,rb=va+50,Ma=A-8,Na=Ma+50,Oa=J-25,Pa=Oa+50,ca=.05,da=.05,la=0,ka=0,ja=0,ia=0,ha=0,ga=0,ma=.2,lb=!1,
B=!1,d="",Fa=1088,Ga=12,ra=0,kb=!1,Ta=!1,$=1,Ab=Ga-20,Bb=Ga+20,Cb=Fa-20,Db=Fa+20,fa=0,ea=0,Y=0,X=0,pa="400 25px Helvetica",qa="400 25px Helvetica",Va=0,Wa=0,Ba="#0452de",Ua="#e52d27",Z="white",vb,P=1008,r=55,V=.05,W=.05,Da=.05,Ea=.05,Qa,Ra;L.addEventListener("mousemove",function(a){var b,c=L.getBoundingClientRect();b=a.clientX-c.left;a=a.clientY-c.top;Qa=b;Ra=a},!1);L.addEventListener("mousedown",function(){var a=Qa,b=Ra;ta<=a&&a<=pb&&sa<=b&&b<=ob&&G<=wb&&H>=mb&&(S+=120,Aa="red",Y+=15,"GI"!==d&&(B=
!0),d="GI",ca=.3,Va=1);Ka<=a&&a<=La&&Ia<=b&&b<=Ja&&G>=Ha&&H<=nb&&(S-=120,za="red",Y-=15,"GD"!==d&&(B=!0),d="GD",ca=.3,Va=1);va<=a&&a<=rb&&ua<=b&&b<=qb&&G<=wb&&H<=nb&&(T+=120,ya="blue",X+=15,"MI"!==d&&(B=!0),d="MI",da=.3,Wa=1);Oa<=a&&a<=Pa&&Ma<=b&&b<=Na&&G>=Ha&&H>=mb&&(T-=120,xa="blue",X-=15,"MD"!==d&&(B=!0),d="MD",da=.3,Wa=1);Cb<=a&&a<=Db&&Ab<=b&&b<=Bb&&(Ta=kb=!0,$=0,message1="",d="noMessage",G=400,H=300,T=S=150,X=Y=0);"blue"===Z&&("LM"!==d&&(B=!0),d="LM");"red"===Z&&("IS"!==d&&(B=!0),d="IS");"blackIntersect"===
Z&&("IN"!==d&&(B=!0),d="IN");200>a&&b<H+100&&b>H-100&&("ER"!==d&&(B=!0),d="ER");a>G-50&&a<G+50&&700>b&&560<b&&("EY"!==d&&(B=!0),d="EY");1035<=a&&1065>=a&&30>=b&&("AS"!==d&&(B=!0),d="AS");0<a&&200>a&&0<b&&180>b&&("IR"!==d&&(B=!0),d="IR");550<a&&850>a&&500<b&&700>b&&("Y"!==d&&(B=!0),d="Y");a>P&&b>r&&b<r+(e+g)/2-r&&G>=Ha&&H<=nb&&(V=.4,S-=120,"ISS"!==d&&(B=!0),d="ISS");a>P&&b>r+(e+g)/2-r&&b<r+2*((e+g)/2-r)&&G>=Ha&&H>=mb&&(W=.4,T-=120,"LMS"!==d&&(B=!0),d="LMS")});L.addEventListener("mousemove",function(){var a=
Qa,b=Ra;Aa=a>ta&&b>sa&&a<pb&&b<ob?"black":h;za=a>Ka&&b>Ia&&a<La&&b<Ja?"black":h;ya=a>va&&b>ua&&a<rb&&b<qb?"black":h;xa=a>Oa&&b>Ma&&a<Pa&&b<Na?"black":h;a>ta&&b>sa&&b<Ja&&a<La?(aa=13,pa="600 25px Helvetica"):(aa=11,pa="400 25px Helvetica");a>va&&b>ua&&b<Na&&a<Pa?(ba=13,qa="600 25px Helvetica"):(ba=11,qa="400 25px Helvetica");550<a&&850>a&&500<b&&700>b?Xa=!0:Za=!0;0<a&&200>a&&0<b&&180>b?$a=!0:bb=!0;a>G-50&&a<G+50&&700>b&&560<b?db=!0:fb=!0;200>a&&b<H+100&&b>H-100?gb=!0:ib=!0;a>P&&b>r&&b<r+(e+g)/2-r?
(Da=.15,aa=13,pa="600 25px Helvetica"):Da=.05;a>P&&b>r+(e+g)/2-r&&b<r+2*((e+g)/2-r)?(Ea=.15,ba=13,qa="600 25px Helvetica"):Ea=.05},!1);L.addEventListener("mousemove",function(){var c=a.getImageData(Qa,Ra,1,1).data,b=c[0],d=c[1],c=c[2];if(255<b||255<d||255<c)throw"Invalid color component";b="#"+("000000"+(b<<16|d<<8|c).toString(16)).slice(-6);b===Ua?(aa=13,pa="600 25px Helvetica",Z="red"):Z="white";b===Ba&&(ba=13,qa="600 25px Helvetica",Z="blue");"#000001"===b&&(Z="blackIntersect",aa=ba=13)},!1);L.addEventListener("mouseup",
function(a){var b=a.x;a=a.y;b-=L.offsetLeft;a-=L.offsetTop;ta<=b&&b<=pb&&sa<=a&&a<=ob&&wa();Ka<=b&&b<=La&&Ia<=a&&a<=Ja&&wa();va<=b&&b<=rb&&ua<=a&&a<=qb&&wa();Oa<=b&&b<=Pa&&Ma<=a&&a<=Na&&wa()})};