window.addEventListener("load",Qb,!1);
function Qb(){function Ib(){window.setTimeout(Ib,5);Rb()}function ca(){Da=Ea=Fa=Ga=Ha=Ia=d}function Sb(a,b,c,e,d,f,h,n){var p,k,m,q,l={x:null,y:null,a:!1,b:!1};p=(n-f)*(c-a)-(h-d)*(e-b);if(0==p)return l;k=b-f;m=a-d;q=(c-a)*k-(e-b)*m;k=((h-d)*k-(n-f)*m)/p;m=q/p;l.x=a+k*(c-a);l.y=b+k*(e-b);x=d+m*(h-d);y=d+m*(n-f);0<k&&1>k&&(l.a=!0);0<m&&1>m&&(l.b=!0);return l}function Rb(){function J(a,b,c){b=b.split(" ");for(var J="",d=0;d<b.length;d++){var e=J+b[d]+" ";330<a.measureText(e).width&&0<d?(a.fillText(J,
770,c),J=b[d]+" ",c+=22):J=e}a.fillText(J,770,c)}var b=Sb(Jb,Kb,Lb,Mb,db,h,da,f);X=b.x;O=b.y;ta=(X-54)/616;ea=Math.round((h-f)/(da-db)*100)/100;Math.abs(q-h)<fa&&(h=q);Math.abs(l-f)<fa&&(f=l);h>q&&(h-=fa);h<q&&(h+=fa);f>l&&(f-=fa);f<l&&(f+=fa);ga=ga<ha?ga+.1:ga-.1;ua=ua<Ja?ua+.1:ua-.1;a.fillStyle="white";a.fillRect(0,0,S.width,S.height);eb&&(ia+=.01,1<ia&&(ia=1,eb=!1));a.strokeStyle=Nb;a.lineWidth=ua;a.lineCap="round";a.beginPath();a.moveTo(Jb,Kb);a.lineTo(Lb,Mb);a.stroke();a.closePath();a.beginPath();
a.fillStyle="white";a.fillRect(0,0,P,C);a.stroke();a.strokeStyle=d;a.lineWidth=4;a.lineCap="square";a.beginPath();a.moveTo(Ka,C+4);a.lineTo(b.x,C+4);a.stroke();a.closePath();a.strokeStyle=d;a.lineWidth=4;a.lineCap="square";a.beginPath();a.moveTo(P-4,La);a.lineTo(P-4,b.y);a.stroke();a.closePath();a.globalAlpha=ia;a.strokeStyle=va;a.setLineDash([0]);a.lineWidth=ga;a.lineCap="round";a.beginPath();a.moveTo(db,h);a.lineTo(da,f);a.stroke();a.closePath();Ob=12<=ga&&Ma?1:0;a.globalAlpha=Ob;a.beginPath();
a.strokeStyle=va;a.lineWidth=4;a.moveTo(510,f+20/77*(h-f));a.lineTo(610,f+20/77*(h-f));a.lineTo(610,f+20/77*(h-f)-90*ea);a.stroke();a.font="18px Helvetica";a.fillStyle=va;a.fillText(ea,625,f+20/77*(h-f)-90*ea+20);a.fillText("1",580,f+20/77*(h-f)+20);a.globalAlpha=1;a.strokeStyle=d;a.lineWidth=5;a.lineCap="round";a.beginPath();a.moveTo(P,Na);a.lineTo(P,C);a.lineTo(ja,C);a.stroke();a.closePath();a.beginPath();a.arc(P,C,60,-.25*Math.PI,0,!1);a.lineWidth=5;a.strokeStyle=d;a.stroke();a.font="20px Helvetica";
a.fillStyle=d;a.fillText("45\u00b0",120,575);a.font="38px Helvetica";a.fillStyle="black";a.fillText("G",(u+D)/2-15,(v+E)/2+13);a.fillText("T",(s+s)/2-12,(w+w)/2-11);a.font="20px Helvetica";a.fillText("MPC",(K+K)/2-22,(L+L)/2-16);a.globalAlpha=.8;a.beginPath();a.strokeStyle=d;a.lineWidth=2;a.moveTo(u+c-1,v+c/3);a.lineTo(D+c-1,E-c/3);a.moveTo(u-c+1,v+c/3);a.lineTo(D-c+1,E-c/3);a.stroke();a.globalAlpha=.8;a.beginPath();a.strokeStyle=d;a.lineWidth=2;a.moveTo(s+c-1,F+c/3);a.lineTo(G+c-1,w-c/3);a.moveTo(s-
c+1,F+c/3);a.lineTo(G-c+1,w-c/3);a.stroke();a.globalAlpha=.8;a.beginPath();a.strokeStyle=d;a.lineWidth=2;a.moveTo(K+1.2*c-1,Q+c/3);a.lineTo(R+1.2*c-1,L-c/3);a.moveTo(K-1.2*c+1,Q+c/3);a.lineTo(R-1.2*c+1,L-c/3);a.stroke();.05<ka&&(ka-=.01);a.beginPath();a.globalAlpha=ka;a.fillStyle="blue";a.moveTo(u+c,v+c/3);a.quadraticCurveTo(u,v,u-c,v+c/3);a.lineTo(D-c,E-c/3);a.quadraticCurveTo(D,E,D+c,E-c/3);a.lineTo(u+c,v+c/3);a.fill();a.lineWidth=1;a.strokeStyle="blue";a.stroke();.05<la&&(la-=.01);a.beginPath();
a.globalAlpha=la;a.fillStyle="blue";a.moveTo(s+c,F+c/3);a.quadraticCurveTo(s,F,s-c,F+c/3);a.lineTo(G-c,w-c/3);a.quadraticCurveTo(G,w,G+c,w-c/3);a.lineTo(s+c,F+c/3);a.fill();a.lineWidth=1;a.strokeStyle="blue";a.stroke();.05<Z&&(Z-=.01);a.beginPath();a.globalAlpha=Z;a.fillStyle="blue";a.moveTo(K+1.2*c,Q+c/3);a.quadraticCurveTo(K,Q,K-1.2*c,Q+c/3);a.lineTo(R-1.2*c,L-c/3);a.quadraticCurveTo(R,L,R+1.2*c,L-c/3);a.lineTo(R+1.2*c,Q+c/3);a.fill();a.lineWidth=1;a.strokeStyle="blue";a.stroke();a.globalAlpha=
1;a.beginPath();a.lineWidth=.01;a.lineCap="miter";a.fillStyle=Ia;a.moveTo(u+c,v+c/3);a.quadraticCurveTo(u,v,u-c,v+c/3);a.lineTo(u,v-1.2*c);a.lineTo(u+c,v+c/3);a.fill();a.closePath();a.stroke();a.beginPath();a.lineWidth=.01;a.lineCap="miter";a.fillStyle=Ha;a.moveTo(D-c,E-c/3);a.quadraticCurveTo(D,E,D+c,E-c/3);a.lineTo(D,E+1.2*c);a.lineTo(D-c,E-c/3);a.fill();a.closePath();a.stroke();a.beginPath();a.lineWidth=.01;a.lineCap="miter";a.fillStyle=Ga;a.moveTo(s+c,F+c/3);a.quadraticCurveTo(s,F,s-c,F+c/3);
a.lineTo(s,F-1.2*c);a.lineTo(s+c,F+c/3);a.fill();a.closePath();a.stroke();a.beginPath();a.lineWidth=.01;a.lineCap="miter";a.fillStyle=Fa;a.moveTo(G-c,w-c/3);a.quadraticCurveTo(G,w,G+c,w-c/3);a.lineTo(G,w+1.2*c);a.lineTo(G-c,w-c/3);a.fill();a.closePath();a.stroke();a.beginPath();a.lineWidth=.01;a.lineCap="miter";a.fillStyle=Ea;a.moveTo(K+1.2*c,Q+c/3);a.quadraticCurveTo(K,Q,K-1.2*c,Q+c/3);a.lineTo(K,Q-c);a.lineTo(K+1.2*c,Q+c/3);a.fill();a.closePath();a.stroke();a.beginPath();a.lineWidth=.01;a.lineCap=
"miter";a.fillStyle=Da;a.moveTo(R-1.2*c,L-c/3);a.quadraticCurveTo(R,L,R+1.2*c,L-c/3);a.lineTo(R,L+c);a.lineTo(R-1.2*c,L-c/3);a.fill();a.closePath();a.stroke();a.globalAlpha=1;V<T&&(V+=1);V>T&&--V;W<U&&(W+=1);W>U&&--W;a.globalAlpha=fb;a.beginPath();a.rect((u+D)/2+40,(v+E)/2,20,-W);a.fillStyle="blue";a.fill();a.lineWidth=2;a.strokeStyle="blue";a.stroke();a.beginPath();a.lineWidth=2;a.lineCap="round";a.strokeStyle="black";a.moveTo((u+D)/2+40,(v+E)/2);a.lineTo((u+D)/2+60,(v+E)/2);a.stroke();a.closePath();
a.globalAlpha=gb;a.beginPath();a.rect((s+G)/2+40,(F+w)/2,20,-V);a.fillStyle="blue";a.fill();a.lineWidth=2;a.strokeStyle="blue";a.stroke();a.beginPath();a.lineWidth=2;a.lineCap="round";a.strokeStyle="black";a.moveTo((s+G)/2+40,(F+w)/2);a.lineTo((s+G)/2+60,(F+w)/2);a.stroke();a.closePath();var g="red",g=0<V-W?"green":"red";a.globalAlpha=1;a.beginPath();a.rect((H+H+$)/2+90,(I+I+aa)/2,20,V-W);a.fillStyle=g;a.fill();a.lineWidth=2;a.strokeStyle=g;a.stroke();a.beginPath();a.lineWidth=2;a.lineCap="round";
a.strokeStyle=d;a.moveTo((H+H+$)/2+90,(I+I+aa)/2);a.lineTo((H+H+$)/2+110,(I+I+aa)/2);a.stroke();a.closePath();Y>wa&&(Y-=.02);Y<wa&&(Y+=.02);a.globalAlpha=Y;a.beginPath();a.rect(H,I,$,aa);a.fillStyle=d;a.fill();a.globalAlpha=1;a.font="16px Helvetica";a.fillStyle=hb;a.fillText("Budget deficit G-T:",H+5,I+20);a.font="35px Helvetica";a.fillStyle=d;a.fillText("Y",ja-18,C+47);a.fillText("0",P-35,C+40);a.font="30px Helvetica";a.fillText("PE",P-53,Na+28);ib&&(jb=1,ib=!1);kb&&(jb=0,kb=!1);lb&&(mb=1,lb=!1);
nb&&(mb=0,nb=!1);a.font="22px Helvetica";a.globalAlpha=mb;a.fillText("Planned Expenditure",P-50,Na-20);a.globalAlpha=jb;a.fillText("income",ja-18-50,C+80);a.globalAlpha=1;a.strokeStyle=d;a.lineWidth=2;a.setLineDash([15]);a.beginPath();a.moveTo(b.x,C);a.lineTo(b.x,b.y);a.moveTo(P,b.y);a.lineTo(b.x,b.y);a.stroke();a.closePath();(function(b,c,J){a.fillStyle=J||"black";a.beginPath();a.arc(b,c,8,0,2*Math.PI,!0);a.fill()})(b.x,b.y,"#000001");g=da+15;da>=ja&&(g=ja+15);var r=f+5;da>=ja&&(r=Tb+5);a.font=xa;
a.fillStyle=va;a.fillText("PE",g,r);a.font=ob;a.fillStyle=Nb;a.fillText("Y=PE",615,55);a.font="25px Helvetica";a.fillStyle=d;a.fillText("y",Ka-5,C+30);g=b.x<Ka+5&&b.x>Ka-5?"":"y'";a.font="25px Helvetica";a.fillStyle=d;a.fillText(g,b.x-5,C+30);a.font="25px Helvetica";a.fillStyle=d;a.fillText("y",P-30,La+7);g=b.y<La+5&&b.y>La-5?"":"y'";a.font="25px Helvetica";a.fillStyle=d;a.fillText(g,P-30,b.y+7);pb&&(qb=1,pb=!1);rb&&(qb=0,rb=!1);b=600<b.x?530:b.x-70;a.font="20px Helvetica";a.globalAlpha=qb;a.fillText("equilibrium income",
b,C+55);a.globalAlpha=1;sb&&(tb=1,sb=!1);ub&&(tb=0,ub=!1);vb=200<X?65:X+50;a.font="20px Helvetica";a.globalAlpha=tb;a.fillText("equilibrium",vb,O-8);a.fillText("income",vb,O+20);a.globalAlpha=1;a.setLineDash([1]);wb&&(ya+=10,180<=ya&&(wb=!1,ya=Math.PI));a.font="25px FontAwesome";a.fillStyle="black";a.save();a.translate(1086,14);a.rotate(ya*Math.PI/180);a.translate(-1086,-14);a.fillText("\uf021",Oa-13,Pa+11);a.restore();Pb="AS"===e?"#0452de":"black";a.font="27px FontAwesome";a.fillStyle=Pb;a.fillText("\uf05a",
Oa-50,Pa+12);80>=f&&M&&(l=f,q=h,M=!1,U=W,T=V);500<=h&&N&&(l=f,q=h,N=!1,U=W,T=V);var z=r=g=b="",A="",B="",n,p,k,m;switch(e){case "noMessage":B=A=z=r=g=b="";break;case "PE":b="Planned Expenditure";g="The amount households, firms and the government would like to spend on goods and services. It can differ from actual expenditure as firms might engage in unplanned inventory investment because their sales do not meet expectations. When firms sell less than planned, inventories rise. Conversely, when firms sell more than planned, inventories fall. Unplanned changes in inventory are counted as investment spending by firms, so actual expenditure can be either above or below planned expenditure. Planned expenditure is given by:";
r="PE = C(Y - T) + I + G";z="where taxes T, investment I and government purchases G are assumed to be fixed. Therefore planned expenditure is a function of, and depends positively of income Y so the line slopes upwards. The slope is the marginal propensity to consume, or MPC.";B=A="";n=13;m=k=p=1;break;case "EC":b="The Equilibrium Condition";g="Actual expenditure is the amount households, firms and the government spend on goods and services, which equals the economy\u2019s income (or GDP).";r="The economy is in equilibrium when Y = PE, or when actual expenditure equals planned expenditure.";
z="The 45\u00b0 line plots the points where y-axis values equal x-axis value.";A="This line therefore plots the points where the condition holds so we call it the equilibrium condition.";B="";n=4;p=3;k=2;m=3;break;case "IG":b="Government Spending Increase";g="As government purchases increase, planned expenditure increases as government purchases is a component of planned expenditure. If government purchases increases by \u0394G, then planned expenditure schedule simply shifts upwards by \u0394G.";
r="At the initial equilibrium, expenditure exceeds what is being produced so firms are running down their inventories. They react by spending more which causes income Y to increase.";z="As income increases, consumption rises (which is a function of income), which further raises income (and so on) until the economy reaches a new equilibrium with a higher level of income. Therefore, an increase in government purchases leads to an even greater increase in income.";B=A="";n=6;m=k=p=5;break;case "DG":b=
"Government Spending Decrease";g="As government purchases decreases, planned expenditure decreases as government purchases is a component of planned expenditure. If government purchases decreases by \u0394G, then planned expenditure schedule simply shifts downwards by \u0394G.";r="At the initial equilibrium, what is being produced exceeds expenditure so firms are running up inventories. They react by spending less which causes income Y to decrease.";z="As income decreases, consumption falls (which is a function of income), which further reduces income (and so on) until the economy reaches a new equilibrium with a lower level of income. Therefore, a decrease in government purchases leads to an even greater reduction in income.";
B=A="";n=7;m=k=p=5;break;case "TC":b="Tax Cut";g="A tax cut increases disposable income Y - T (i. e. the share of income that is available for consumption, after paying for taxes). The increase in disposable income increases consumption (which depends positively on disposable income). As consumption is a component of planned expenditure, the planned expenditure line shifts upwards.";r="At the initial equilibrium, planned expenditure now exceeds productions so firms are running down inventories. Firms therefore increase production which increases the amount of income people have which further increases income and therefore consumption (and so on). The economy reaches a new equilibrium with a higher level of income.";
B=A=z="";n=8;m=k=p=5;break;case "TI":b="Tax Increase";g="An increase in taxes reduces disposable income Y - T (i. e. the share of income that is available for consumption, after paying for taxes). The fall in disposable income reduces consumption (which depends positively on disposable income). As consumption is a component of planned expenditure, the planned expenditure line shifts downwards.";r="At the initial equilibrium, production now exceeds planned expenditure so firms are running up inventories. Firms therefore cut production which decreases the amount of income people have  which further reduces income and therefore consumption (and so on). The economy reaches a new equilibrium with a lower level of income.";
B=A=z="";n=8;m=k=p=5;break;case "EI":b="Equilibrium Income";g="The equilibrium in the economy is reached where the planned expenditure function crosses the 45\u00b0 line. Inventories are they key to how the economy reaches this equilibrium.";r="Whenever income is lower than the equilibrium level, planned expenditure exceeds output, so firms are running down their inventories. This induces firms to increase production and therefore income.";z="Whenever income is higher than the equilibrium level, output exceeds planned expenditure, so firms are running up inventories. This induces firms to decrease production and therefore income.";
A="In both cases, firms\u2019 decisions drive the economy towards equilibrium.";B="";n=4;m=k=p=5;break;case "PED":b="Planned Expenditure";g="Planned expenditure is the amount households, firms and the government would like to spend on goods and services.";r="It can differ from actual expenditure if sales by firms do not match expectations.";B=A=z="";n=3;k=p=1;m=5;break;case "Y":b="Income";g="The total income of everyone in the economy and the total expenditure on the economy's output of goods and services.";
B=A=z=r="";n=5;k=p=1;m=5;break;case "AS":b="Model Assumptions";g="When planned expenditure equals actual expenditure, the economy is in equilibrium as people\u2019s plans have been realised; so they have no reason to change what they are doing.";r="Prices are fixed (this is a short run model).";z="A closed economy (no role for trade).";B=A="";n=5;k=p=1;m=5;break;case "DEF":b="The Budget Deficit";g="The budget deficit is the difference between government spending G and taxes T.";r="If the government spends more than it collects in taxes, it runs a deficit.";
z="If both variables are equal, the budget is said to be balanced and if taxes are higher than expenses, there is a budget surplus.";B=A="";k=p=n=2;m=5;break;case "MPCI":b="Increase in the MPC";g="The marginal propensity to consume is the increase in consumption that occurs for a unit increase in income.";r="As the MPC increases, so does the fiscal multiplier. This means that every unit change in fiscal policy (government spending and taxes) will have a bigger effect on the level of income.";z="This can be seen geometrically by how the planned expenditure curve has a higher slope which causes the intersection to move more when the the planned expenditure curve shifts.";
B=A="";n=3;p=5;k=2;m=5;break;case "MPCD":b="Decrease in the MPC",g="The marginal propensity to consume is the increase in consumption that occurs for a unit increase in income.",r="As the MPC decreases, so does the fiscal multiplier. This means that every unit change in fiscal policy (government spending and taxes) will have a smaller effect on the level of income.",z="This can be seen geometrically by how the planned expenditure curve has a lower slope which causes the intersection to move less when the the planned expenditure curve shifts.",
B=A="",n=3,p=5,k=2,m=5}t&&(ma=na=oa=pa=qa=ra=0,t=!1,xb=!0);xb&&(ra+=sa,.7<ra&&(ra=1,qa+=sa,.7<qa&&(qa=1,pa+=sa,.8<pa&&(pa=1,oa+=sa,.8<oa&&(oa=1,na+=sa,.9<na&&(na=1,ma+=sa,.9<ma&&(ma=1,xb=!1)))))));a.fillStyle="black";a.font="bold 16pt Helvetica";a.globalAlpha=ra;a.fillText(b,770,190);a.font="12pt Helvetica";a.globalAlpha=qa;J(a,g,225);a.globalAlpha=pa;J(a,r,22*n+235);a.globalAlpha=oa;J(a,z,22*(n+p)+245);a.globalAlpha=na;J(a,A,22*(n+p+k)+255);a.globalAlpha=ma;J(a,B,22*(n+p+k+m)+265);a.globalAlpha=
1}var S=document.getElementById("canvas"),a=S.getContext("2d");Ib();var fa=3,P=50,Na=50,C=600,ja=710,Tb=C-50,yb=Na+50,zb=C-80,Jb=54,Kb=596,Lb=600,Mb=50,db=54,da=670,h=405,f=220,X=331,O=319,l=220,q=405,Ka=327,La=323,d="#636363",jb=0,mb=0,qb=0,tb=0,ib=!1,kb=!1,lb=!1,nb=!1,pb=!1,rb=!1,sb=!1,ub=!1,vb,ga=11,ha=11,ua=11,Ja=11,u=800,v=60,D=800,E=110,s=910,F=60,G=910,w=110,K=1020,Q=63,R=1020,L=110,c=22,Ia=d,Ha=d,Ga=d,Fa=d,Ea=d,Da=d,za=v-42,Ab=za+50,Aa=u-25,Bb=Aa+50,Qa=E-8,Cb=Qa+50,Ra=D-25,Db=Ra+50,Sa=F-42,
Eb=Sa+50,Ta=s-25,Fb=Ta+50,Ua=w-8,Va=Ua+50,Wa=G-25,Xa=Wa+50,Ba=Q-42,Gb=Ba+50,Ca=K-25,Hb=Ca+50,Ya=L-8,Za=Ya+50,$a=R-25,ab=$a+50,ka=.05,la=.05,Z=.05,ta,ra=0,qa=0,pa=0,oa=0,na=0,ma=0,sa=.2,xb=!1,t=!1,e="",Oa=1088,Pa=12,ya=0,wb=!1,eb=!1,ia=1,Ub=Pa-20,Vb=Pa+20,Wb=Oa-20,Xb=Oa+20,W=0,V=0,U=0,T=0,xa="400 25px Helvetica",ob="400 25px Helvetica",fb=0,gb=0,Nb="#646464",va="#0452de",ba="white",Pb,I=20,H=220,$=142,aa=30,Y=.1,wa=.1,hb=d,Z=.05,ea=.3,M=!0,N=!0,Ob=0,Ma=!1,bb,cb;S.addEventListener("mousemove",function(a){var b,
c=S.getBoundingClientRect();b=a.clientX-c.left;a=a.clientY-c.top;bb=b;cb=a},!1);S.addEventListener("mousedown",function(){var a=bb,b=cb;Aa<=a&&a<=Bb&&za<=b&&b<=Ab&&!0===M&&O>=yb&&60>U&&(l-=80,q-=80,Ia="blue",U+=15,"IG"!==e&&(t=!0),e="IG",ka=.3,fb=1,N=M=!0);Ra<=a&&a<=Db&&Qa<=b&&b<=Cb&&!0===N&&O<=zb&&-60<U&&(l+=80,q+=80,Ha="blue",U-=15,"DG"!==e&&(t=!0),e="DG",ka=.3,fb=1,M=N=!0);Ta<=a&&a<=Fb&&Sa<=b&&b<=Eb&&!0===N&&O<=zb&&60>T&&(l+=80,q+=80,Ga="blue",T+=15,"TI"!==e&&(t=!0),e="TI",la=.3,gb=1,M=N=!0);Wa<=
a&&a<=Xa&&Ua<=b&&b<=Va&&!0===M&&O>=yb&&-60<T&&(l-=80,q-=80,Fa="blue",T-=15,"TC"!==e&&(t=!0),e="TC",la=.3,gb=1,N=M=!0);Ca<=a&&a<=Hb&&Ba<=b&&b<=Gb&&.6>ea&&f>=yb&&h<=zb&&(q=h+61.6*ta,l=f-61.6*(1-ta),Ea="blue",Z=.3,"MPCI"!==e&&(t=!0),e="MPCI",N=M=!0);$a<=a&&a<=ab&&Ya<=b&&b<=Za&&0<ea&&(q=h-61.6*ta,l=f+61.6*(1-ta),Da="blue",Z=.3,"MPCD"!==e&&(t=!0),e="MPCD",N=M=!0);Wb<=a&&a<=Xb&&Ub<=b&&b<=Vb&&(eb=wb=!0,ia=0,message1="",e="noMessage",X=327,O=323,l=220,q=405,T=U=0,N=M=!0);"blue"===ba&&("PE"!==e&&(t=!0),e=
"PE");"grey"===ba&&("EC"!==e&&(t=!0),e="EC");"blackIntersect"===ba&&("EI"!==e&&(t=!0),e="EI");200>a&&b<O+100&&b>O-100&&("EI"!==e&&(t=!0),e="EI");a>X-50&&a<X+50&&700>b&&560<b&&("EI"!==e&&(t=!0),e="EI");1035<=a&&1065>=a&&30>=b&&("AS"!==e&&(t=!0),e="AS");0<a&&200>a&&0<b&&180>b&&("PED"!==e&&(t=!0),e="PED");550<a&&850>a&&500<b&&700>b&&("Y"!==e&&(t=!0),e="Y");a>H&&b>I&&a<H+$&&b<I+aa&&(Y=.4,wa=.2);a>H&&b>I&&a<H+$&&b<I+aa&&("DEF"!==e&&(t=!0),e="DEF")});S.addEventListener("mousemove",function(){var a=bb,b=
cb;Ia=a>Aa&&b>za&&a<Bb&&b<Ab&&!0===M?"black":d;Ha=a>Ra&&b>Qa&&a<Db&&b<Cb&&!0===N?"black":d;Ga=a>Ta&&b>Sa&&a<Fb&&b<Eb&&!0===N?"black":d;Fa=a>Wa&&b>Ua&&a<Xa&&b<Va&&!0===M?"black":d;Ea=a>Ca&&b>Ba&&a<Hb&&b<Gb?"black":d;Da=a>$a&&b>Ya&&a<ab&&b<Za?"black":d;a>Aa&&b>za&&b<Va&&a<Xa?(ha=13,xa="600 25px Helvetica"):(ha=11,xa="400 25px Helvetica");a>Ca&&b>Ba&&a<ab&&b<Za?(Ma=!0,ha=13,xa="600 25px Helvetica"):Ma=!1;550<a&&850>a&&500<b&&700>b?ib=!0:kb=!0;0<a&&200>a&&0<b&&180>b?lb=!0:nb=!0;a>X-50&&a<X+50&&700>b&&
560<b?pb=!0:rb=!0;200>a&&b<O+100&&b>O-100?sb=!0:ub=!0;a>H&&b>I&&a<H+$&&b<I+aa?(wa=.2,hb="black"):(wa=.1,hb=d)},!1);S.addEventListener("mousemove",function(){var c=a.getImageData(bb,cb,1,1).data,b=c[0],d=c[1],c=c[2];if(255<b||255<d||255<c)throw"Invalid color component";b="#"+("000000"+(b<<16|d<<8|c).toString(16)).slice(-6);b===va?(ha=13,xa="600 25px Helvetica",ba="blue",Ma=!0):ba="white";"#646464"===b?(Ja=13,ob="600 25px Helvetica",ba="grey"):(Ja=11,ob="400 25px Helvetica");"#000001"===b&&(ba="blackIntersect",
ha=Ja=13)},!1);S.addEventListener("mouseup",function(a){var b=a.x;a=a.y;b-=S.offsetLeft;a-=S.offsetTop;Aa<=b&&b<=Bb&&za<=a&&a<=Ab&&ca();Ra<=b&&b<=Db&&Qa<=a&&a<=Cb&&ca();Ta<=b&&b<=Fb&&Sa<=a&&a<=Eb&&ca();Wa<=b&&b<=Xa&&Ua<=a&&a<=Va&&ca();Ca<=b&&b<=Hb&&Ba<=a&&a<=Gb&&ca();$a<=b&&b<=ab&&Ya<=a&&a<=Za&&ca()})};